%
% report.tex
%

\documentclass[a4paper, 12pt]{report}

% UTF-8 characters.
\usepackage[utf8]{inputenc}

% Page format.
\usepackage[top=3cm, bottom=3cm, left = 2cm, right = 2cm]{geometry}

% 1.2 line spacing.
\usepackage{setspace}
\spacing{1.2}

% Romanian language support.
\usepackage{fontspec}
\usepackage{polyglossia}
\setdefaultlanguage{romanian}
\SetLanguageKeys{romanian}{indentfirst=true}
\usepackage{csquotes}
\DeclareQuoteStyle{romanian}
  {\quotedblbase}
  {\textquotedblright}
  {\guillemotleft}
  {\guillemotright}

% Embed images.
\usepackage{graphicx}
\graphicspath{./assets/}

% Pretty URLs.
\usepackage[
    colorlinks,
    linkcolor={black},
    menucolor={black},
    citecolor={black},
    urlcolor={blue}
]{hyperref}

% No page breaks between chapters.
\usepackage{etoolbox}
\makeatletter
\patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{}{}{}
\makeatother

% Chapter number and title on the same line.
\usepackage{titlesec}
\titleformat{\chapter}[hang]
{\normalfont\huge\bfseries}{\thechapter.}{0.5em}{}

% Abstract on the same page.
\renewenvironment{abstract}
{\small\quotation
{\bfseries\noindent{\large\abstractname}\par\nobreak\smallskip}}
{\endquotation}

% Colors.
\usepackage[table]{xcolor}

% Better tables.
\usepackage{tabularx}

% Multiple sub-rows in tables.
\usepackage{multirow}

% Metadata and title.
\usepackage{titling}
\title{Raport privind cercetarea și analiza unui set de date despre filme}
\author{
  Mathe Armand Cezar
  \hspace{2cm}
  Tritean Sergiu Daniel
}
\date{Iunie 2023}
\renewcommand{\maketitle}{
  \begin{titlepage}
    \begin{center}
      \large
      \textbf{Universitatea Babeș-Bolyai} \\
      \vspace{0.5cm}
      \textbf{Facultatea de Științe Economice și Gestiunea Afacerilor}\\
      \vspace{0.5cm}
      \textbf{Specializarea Informatică Economică}

      \vspace{7cm}

      \Huge
      \thetitle

      \vspace{6cm}

      \large
      \theauthor

      \vspace{3.7cm}

      \thedate
    \end{center}
  \end{titlepage}
}

\usepackage{lipsum}

% Document.
\begin{document}

\maketitle

\pagebreak

\tableofcontents

\pagebreak

\chapter{Introducere} \label{chapter:introducere}

Această lucrare își propune să cerceteze și să analizeze un set de date despre
filme, cu scopul de a determina dacă putem prezice popularitatea sau votul mediu
al unui film pe baza altor caracteristici. Acest lucru ar putea ajuta la
direcționarea investițiilor în domeniu spre proiectele care ar putea avea un
succes mai mare.

Setul de date ales este TMDB 15000 Movies Dataset, provenit de pe platforma
Kaggle
\footnote{\url{https://www.kaggle.com/datasets/prabhakarz/tmdb-15000-movies-dataset-with-credits}}
. Acesta conține informații despre filmele cu cele mai mari rating-uri din
toate timpurile și include caracteristici precum limba originală a filmului,
popularitate, data lansării, votul mediu și numărul de voturi ale fiecărui film.
În plus, sunt disponibile informații referitoare la genuri, cuvinte cheie și
membrii distribuției și echipei de producție.

Pentru a analiza acest set de date am folosit Python (împreună cu librăriile
numpy, pandas, scikit-learn, matplotlib, seaborn, și xgboost) în mediile
interactive Jupyter Notebooks.

Principalele întrebări de cercetare adresate în această lucrare sunt:

\begin{enumerate}
  \item În ce măsură putem prezice popularitatea unui film pe baza altor
        caracteristici?
  \item În ce măsură putem prezice votul mediu al unui film pe baza altor
        caracteristici?
\end{enumerate}

În continuare vom examina setul de date pentru a determina relațiile dintre
caracteristicile sale și pentru a crea modele care să prezică popularitatea
sau votul mediu al fiecărui film.

\chapter{Setul de date}

Setul de date a fost inițial colectat prin scraping de pe site-ul TMDB
(The Movie Database), o resursă populară pentru informații despre filme și
seriale TV. Acest set de date a fost ulterior disponibilizat pe Kaggle, o
platformă pentru învățarea automată și analiza datelor, de către utilizatorul
Prabhakar Pal
\footnote{\url{https://www.kaggle.com/prabhakarz}}
care a efectuat procesul de colectare a datelor prin intermediul API-ului
TMDB.

Setul de date include aproximativ 15.000 de filme și conține o serie de
caracteristici pentru fiecare film, cum ar fi:

\begin{itemize}
  \item \textbf{Limba originală a filmului}: Limba în care a fost produs filmul.
        Contine codul ISO 639-1 pentru limba respectivă.
  \item \textbf{Titlul original filmului}: Numele filmului în limba originală a
        acestuia.
  \item \textbf{Privire de ansamblu}: O scurtă descriere a filmului.
  \item \textbf{Data de lansare}: Anul în care filmul a fost lansat.
  \item \textbf{Număr de voturi}: Numărul de voturi primite de film.
  \item \textbf{Votul mediu}: Votul mediu acordat de utilizatori filmului.
  \item \textbf{Popularitate}: Scorul de popularitate al filmului.
  \item \textbf{Genuri}: Lista genurilor la care este asociat filmul.
  \item \textbf{Cuvinte cheie}: Lista cuvintelor cheie asociate filmului.
  \item \textbf{Actori}: Lista actorilor care au jucat în film.
  \item \textbf{Echipa de producție}: Lista membrilor echipei de producție.
\end{itemize}

\chapter{Rezultate si discuții}

Aceast capitol cuprinde o evaluare meticuloasă a setului de date referitor la
filme, precum și descrierea transformărilor care au fost aplicate acestuia. În
același timp, sunt furnizate răspunsuri la întrebările de cercetare, formulate
anterior în capitolul \hyperref[chapter:introducere]{\textit{Introducere}}.



\section{Analiza si transformarea setului de date}

\subsection{Analiza si vizualizarea datelor}

Setul de date contine cateva coloane numerice care ar putea fi de interes
pentru analiza noastra: \textbf{vote\_average} (prescurtat in lucrare ca
\textbf{Va}), \textbf{vote\_count} (prescurtat in lucrare ca \textbf{Vc}) si
\textbf{popularity} (prescurtat in lucrare ca \textbf{P}). In analiza coloanelor
numerice am inclus si \textbf{release\_date} pentru a incerca sa distingem
potentiale corelatii.

Coloana \textbf{vote\_average} se incadreaza intre 0 si 10 si are o deviere
standard mica (2.555917). Am normalizat aceasta coloana folosing metoda
min-max, astfel incat sa se incadreze intre 0 si 1.

Coloana \textbf{vote\_count} are valoarea maxima (33495) cu 2 ordine de
magnitudine mai mare decat valoarea mediana (292), iar devierea standard
(2366.743281) este foarte mare. Am aplicat logaritmul in baza 10 iar apoi
standardizarea in functie de scorul Z pentru a aduce coloana intr-un interval
potrivit pentru analiza.

Coloana \textbf{popularity}, conform descrierii, se incadreaza intre 0 si 100.
Dupa examinarea datelor am constatat ca, desi majoritatea datelor se incadreaza
in acest interval, exista valori care depasesc pragul maxim - devierea standard
(114.493917) este foarte mare. Am aplicat si pentru aceasta coloana
standardizarea in functie de scorul Z.

\begin{figure}
  \centering

  \includegraphics[width=0.8\textwidth]{assets/numeric_columns.png}

  \caption{Privire de ansamblu asupra coloanelor numerice, dupa transformari}
  \label{fig:numeric_columns}
\end{figure}

O vedere de ansamblu a acestor coloane, dupa transformari, se poate observa in
Figura \ref{fig:numeric_columns}.

\begin{figure}
  \centering

  \includegraphics[width=0.65\textwidth]{assets/boxplot_genres_popularity.png}

  \caption{Relatia dintre genuri si popularitate}
  \label{fig:genres_p}
\end{figure}

\begin{figure}
  \centering

  \includegraphics[width=0.65\textwidth]{assets/boxplot_genres_vote_average.png}

  \caption{Relatia dintre genuri si votul mediu}
  \label{fig:genres_va}
\end{figure}

\begin{figure}
  \centering

  \includegraphics[width=0.65\textwidth]{assets/boxplot_keywords_popularity.png}

  \caption{Relatia dintre cuvinte cheie (top 20) si popularitate}
  \label{fig:keywords_p}
\end{figure}

\begin{figure}
  \centering

  \includegraphics[width=0.65\textwidth]{assets/boxplot_keywords_vote_average.png}

  \caption{Relatia dintre cuvinte cheie (top 20) si votul mediu}
  \label{fig:keywords_va}
\end{figure}

Pentru analiza vom folosi si doua coloane categorice: \textbf{genres} si
\textbf{keywords}. Acestea contin informatii despre genurile si cuvintele cheie
ale filmelor. Pentru a putea analiza aceste coloane am aplicat o transformare
de tip one-hot encoding, astfel incat sa obtinem o coloana pentru fiecare gen
sau cuvant cheie. In total am obtinut 19 coloane pentru genuri si peste 100 de
coloane pentru cuvinte cheie. Relatia dintre genuri si popularitate se poate
observa in Figura \ref{fig:genres_p}, relatia dintre genuri si votul mediu se
poate observa in Figura \ref{fig:genres_va}, relatia dintre cuvinte cheie si
popularitate se poate observa in Figura \ref{fig:keywords_p}, iar relatia
dintre cuvinte cheie si votul mediu se poate observa in Figura
\ref{fig:keywords_va}.

\clearpage

\section{
  In ce masura putem prezice popularitatea unui film pe baza altor
  caracteristici?
}

Pentru a determina in ce masura putem prezice popularitatea unui film pe baza
altor caracteristici am decis sa incercam diferite combinatii de parametri de
intrare cu diferite modele de regresie. Pentru fiecare combinatie de parametri
de intrare si model de regresie am calculat radacina medie patratica a erorii
(RMSE) pentru a determina cat de bine se potrivesc datele cu modelul.
Rezultatele se gasesc, in ordinea performantei, in Tabela
\ref{tab:models_performance_p}.

Parametrii de intrare sunt:

\begin{itemize}
  \item \textbf{G} - Genurile filmului
  \item \textbf{K20} - Cuvintele cheie (top 20)
  \item \textbf{K50} - Cuvintele cheie (top 50)
  \item \textbf{K100} - Cuvintele cheie (top 100)
  \item \textbf{Va} - Votul mediu al filmului
  \item \textbf{Vc} - Numarul de voturi ale filmului
\end{itemize}

In urma analizei am constatat ca nu putem prezice cu certitudine popularitatea
filmului pe baza parametrilor de intrare sus-mentionati. RMSE se afla mai
aproape de 1 decat de 0 (e chiar mai mare decat 1), iar popularitatea a fost
standardizata la o scara redusa, motiv pentru care am ajuns la aceasta
concluzie.

\section{
  In ce masura putem prezice votul mediu al unui film pe baza altor
  caracteristici?
}

Pentru a determina in ce masura putem prezice votul mediu al unui film pe baza
altor caracteristici am decis sa incercam diferite combinatii de parametri de
intrare cu diferite modele de regresie. Pentru fiecare combinatie de parametri
de intrare si model de regresie am calculat radacina medie patratica a erorii
(RMSE) pentru a determina cat de bine se potrivesc datele cu modelul.
Rezultatele se gasesc, in ordinea performantei, in Tabela
\ref{tab:models_performance_va}.

Parametrii de intrare sunt:

\begin{itemize}
  \item \textbf{G} - Genurile filmului
  \item \textbf{K20} - Cuvintele cheie (top 20)
  \item \textbf{K50} - Cuvintele cheie (top 50)
  \item \textbf{K100} - Cuvintele cheie (top 100)
  \item \textbf{P} - Popularitatea filmului
  \item \textbf{Vc} - Numarul de voturi ale filmului
\end{itemize}

In urma analizei putem observa ca Gradient Boosting este regresia ce ofera cele
mai bune rezultate pentru fiecare combinatie de parametrii de intrare pe care am
folosit-o. De asemenea, si XGBoost ofera rezultate competitive pentru anumite
combinatii.

Acesta e clasamentul modelelor in functie de parametrii de intrare si modelul
de regresie folosit:

\begin{enumerate}
  \item \textbf{Gradient Boosting} - G, K100, P, Vc
  \item \textbf{Gradient Boosting} - G, K100, Vc
  \item \textbf{Gradient Boosting} - G, K50, Vc
  \item \textbf{XGBoost} - G, K100, Vc
  \item \textbf{Gradient Boosting} - G, K50, P, Vc
\end{enumerate}

\section{Limitări și direcții viitoare de cercetare}

In urma experimentelor am observat ca popularitatea nu poate fi prezisa cu
certitudine pe baza parametrilor pe care i-am folosit, dar aceasta este utila
la prezicerea votului mediu. De asemenea, un numar important de coloane a ramas
neabordat, motiv care ar putea explica de ce nu am obtinut rezultate pertinente
cu privire la prezicerea popularitatii filmelor, iar setului de date ii
lipseste bugetul fiecarui film. Bugetul si echipa din spatele fiecarui film
reprezinta doi factori foarte importanti in producerea filmelor de calitate.

Pe viitor, ne propunem abordarea coloanelor \textbf{cast} si \textbf{crew}
pentru a incerca sa prezicem popularitatea si votul mediu, deoarece echipa din
spatele fiecarui film reprezinta un factor important in calitatea si
popularitatea acestora.

\chapter{Concluzia}

Această lucrare a urmărit să înțeleagă și să analizeze în ce măsură anumite
caracteristici ale filmelor pot fi folosite pentru a prezice popularitatea sau
votul mediu al acestora. Setul de date folosit pentru această analiză a fost
TMDB 15000 Movies Dataset, un set extensiv de filme cu o serie de caracteristici
precum limba originală a filmului, popularitate, data lansării, votul mediu,
numărul de voturi, genuri, cuvinte cheie și membrii distribuției și echipei de
producție.

Analiza a fost realizată folosind un set divers de modele de învățare automată
și diferite metode de prelucrare a datelor, inclusiv one-hot encoding pentru
coloanele categorice, normalizare și standardizare pentru coloanele numerice și
logaritmarea pentru coloanele cu distribuții înclinate.

Rezultatele analizei noastre arată că prezicerea popularității filmelor este un
proces complex, care nu poate fi realizat cu un grad ridicat de precizie doar pe
baza caracteristicilor disponibile în setul nostru de date. Cu toate acestea, am
observat că votul mediu al filmelor poate fi prezis cu o mai mare acuratețe
folosind o combinație de caracteristici, incluzând genurile filmelor, cuvintele
cheie asociate, popularitatea și numărul de voturi. Aceste rezultate sugerează
că popularitatea și votul mediu al filmelor sunt determinate de o serie complexă
de factori, dintre care unii pot să nu fie disponibili în setul nostru de date.

În viitor, ar putea fi utilă includerea altor caracteristici în analiză, cum ar
fi bugetul filmului, veniturile obținute, premiile câștigate sau detalii mai
specifice despre membrii distribuției și echipei de producție. De asemenea, ar
putea fi interesantă explorarea unor metode mai avansate de învățare automată
sau de prelucrare a datelor pentru a îmbunătăți rezultatele prezicerilor
noastre.

Deși rezultatele noastre au fost mixte, lucrarea noastră demonstrează
potențialul analizei de date și al învățării automate în domeniul filmului și
oferă o bază solidă pentru cercetări viitoare în acest domeniu.

\include{table_p_results}
\include{table_va_results}

\end{document}
